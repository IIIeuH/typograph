function btnHide(e,t,n,a){e.show(),t.removeClass("hidden"),n.removeClass("hidden"),a.addClass("hidden")}function btnShow(e,t,n,a){e.hide(),n.addClass("hidden"),a.addClass("hidden"),t.removeClass("hidden")}function sandData(e){var t=e.val(),n={},a=[];t.forEach(function(e){n.name=e,a.push(n)}),a=JSON.stringify(a),$.ajax({type:"PUT",data:{data:a},success:function(e){console.log(e)},error:function(e){console.log(e)}})}function searchPassports(e,t){$.each(t,function(){var t=$(this).parent();~$(this).text().indexOf(e)||""===e?t.show():t.hide()})}function addCustomer(){var e=$(".customer-container");e.length<5&&(e.last().after('<div class="col-md-2 customer-container"><select multiple="multiple" class="form-control customerNumber"><option>Заказчик 1</option><option>Заказчик 2</option><option>Заказчик 3</option><option>Заказчик 4</option></select></div>'),$(".customerNumber").select2())}function removeCustomer(){var e=$(".customer-container");e.length>1&&e.last().remove()}function addName(){var e=$(".name-container");e.length<5&&(e.last().after('<div class="col-md-2 name-container"><select multiple="multiple" class="form-control name"><option>Наименование 1</option><option>Наименование 2</option><option>Наименование 3</option><option>Наименование 4</option></select></div>'),$(".name").select2())}function removeName(){var e=$(".name-container");e.length>1&&e.last().remove()}function addCar(){var e=$(".car-container"),t=e.last().clone();e.length<8&&e.last().after(t)}function removeCar(){var e=$(".car-container");e.length>1&&e.last().remove()}$(function(){var e=$(".add-btn"),t=$(".cancel-btn"),n=$(".save-btn"),a=$(".row-papper");$(".text").on("select2:select",function(e){var t=e.params.data.element,n=$(t);n.detach(),$(this).append(n),$(this).trigger("change")}),a.hide(),e.click(function(){btnHide(a,t,n,$(this))}),t.click(function(){btnShow(a,e,n,$(this))}),n.click(function(){sandData($("#type-papper"))})}),$(function(){var e=$("#add-customer"),t=$("#remove-customer"),n=$("#add-name"),a=$("#remove-name"),o=$("#car-add"),i=$("#car-remove"),c=$(".passport-date"),s=$(".passport-id"),r=$("#searchDate"),l=$("#searchId"),d=$('select:not(".car-select")');$('select:not(".size-paper")');$.material.init(),$('input[type="tel"]').mask("+7(999) 999-9999"),d.select2(),$(".text").select2({tags:!0,tokenSeparators:[","," "],dropdownCssClass:"select2-hidden"}),$(".size-paper").select2({tags:!0,tokenSeparators:[","," "]}),d.on("select2:select",function(e){var t=e.params.data.element,n=$(t);n.detach(),$(this).append(n),$(this).trigger("change")}),e.click(function(){addCustomer()}),t.click(function(){removeCustomer()}),n.click(function(){addName()}),a.click(function(){removeName()});var p=$("#timeCheck"),h=$("#timeInput");p.click(function(){$(this).prop("checked")?h.removeAttr("disabled"):h.attr("disabled","disabled")}),o.click(function(){addCar()}),i.click(function(){removeCar()}),$("#file").change(function(){var e=$(this).val(),t=e.split("\\");e=e.replace(t[t.length-1],""),$("#fullPath").html(e)});var m=$('input[name="delivery"]'),u=$(".type-delever"),v=$('input[name="type-delivery"]'),f=$(".bus"),g=$(".delivery-address");f.hide(),g.hide(),u.hide(),m.change(function(){"Доставка"===$('input[name="delivery"]:checked').val()?u.show():(u.hide(),g.hide(),f.hide())}),v.change(function(){"Автобус"===$('input[name="type-delivery"]:checked').val()?(f.show(),g.hide()):(g.show(),f.hide())}),r.keyup(function(){searchPassports($(this).val(),c)}),l.keyup(function(){searchPassports($(this).val(),s)})});