extends index

block content
    .container-fluid.noPrint
        form(method="POST", id="formPassport")
            .row
                .col-md-12
                    .panel.panel-white
                        .panel-heading
                            span Заказ № #{passport.inc} от #{moment(passport.date, "DD.MM.YYYY").format("DD.MM")}
                        .panel-body
                            .container-fluid
                                .row
                                    .col-md-6
                                        .form-group
                                            .col-md-4
                                                label.control-label Сдать на
                                            .col-md-8
                                                input.form-control.pass-on(type="date", required, value=passport.passOn)
                                    .col-md-6
                                        .form-group
                                            if passport.timePassport
                                                .col-md-4
                                                    .checkbox
                                                        label
                                                            input(type="checkbox", id="timeCheck", checked)
                                                        | Время
                                                .col-md-8
                                                    input.form-control.time(type="time", disabled, id="timeInput", required, value=passport.timePassport)
                                            else
                                                .col-md-4
                                                    .checkbox
                                                        label
                                                            input(type="checkbox", id="timeCheck")
                                                        | Время
                                                .col-md-8
                                                    input.form-control.time(type="time", disabled, id="timeInput", required, value=passport.timePassport)
                                .row
                                    .col-md-6
                                        .form-group.has-error
                                            label.control-label.col-md-4 Контактное лицо
                                            .col-md-8
                                                input.form-control.contact-person(type="text", id="contact", required, value=passport.contactPerson)
                                    .col-md-6
                                        .form-group
                                            label.control-label.col-md-4 Телефон
                                            .col-md-8
                                                input.form-control.phone(type="tel", id="phone", placeholder="+7(xxx) xxx-xx-xx", required, value=passport.phone)
                                .row
                                    .col-md-12
                                        .form-group
                                            .col-md-2
                                                label.control-label Заказчик
                                            .col-md-10
                                                input.form-control.patter.customer(required, value=passport.customer)
                                .row
                                    .col-md-12
                                        .form-group
                                            .col-md-2
                                                label.control-label Наименование
                                            .col-md-10
                                                input.form-control.name.patter(required, value=passport.name)
                                .row
                                    .col-md-12
                                        .form-group
                                            label.col-md-2.control-label Тираж заказчику
                                            .col-md-10
                                                input.form-control.patter.circulation(required, value=passport.circulationFiled)
                                .row
                                    .col-md-12
                                        .form-group
                                            label.col-md-2.control-label(for="select7") Размер
                                            .col-md-10
                                                select.form-control.size-paper(style="width: 100%", id="select7", multiple="multiple", required)
                                                    each item in passport.sizePaper
                                                        option(selected) #{item}
                                                    option А0
                                                    option А1
                                                    option А2
                                                    option А3
                                                    option А4
                                                    option А5
                                                    option А6
                                .row
                                    .col-md-12
                                        .form-group
                                            label.col-md-2.control-label Страница
                                            .col-md-10
                                                input.form-control.patter.page(required, value=passport.page)
                                .row
                                    .col-md-12
                                        .form-group
                                            label.col-md-2.control-label Красочность
                                            .col-md-10
                                                input.form-control.patter.redness(required, value=passport.redness)
                                .row
                                    .col-md-12
                                        .form-group
                                            label.col-md-2.control-label Бумага
                                            .col-md-3
                                                select.form-control.typePaper(id="typepapper", multiple="multiple", required)
                                                    each item in passport.typePaper
                                                        option(selected) #{item}
                                            .col-md-3
                                                select.form-control.typePaperSize(id="sizepapper", multiple="multiple", required)
                                                    each item in passport.typePaperSize
                                                        option(selected) #{item}
                                            .col-md-3
                                                select.col-md-5.form-control.typePaperGramm(id="grammpapper", multiple="multiple", required)
                                                    each item in passport.typePaperGramm
                                                        option(selected) #{item}
                                .row
                                    .col-md-6
                                        .form-group
                                            label.col-md-4.control-label(for="select2") Комплектующие
                                            .col-md-8
                                                select.form-control.set(id="select2", multiple="multiple", required)
                                                    each item in passport.set
                                                        option(selected) #{item}
                                                    option Нет
                                                    option Люверсы
                                                    option Болты металлические
                                                    option Болты пластиковые
                                                    option Ригель
                                                    option Курсор
                                                    option Спайдеры
                                                    option Держатели для воблеров
                                                    option Механизмы кольца / клепки
                                                    option Шнур
                                                    option Уголки металлические
                                                    option Скотч 2-сторонний
                                                    option Скотч Тонкий
                                                    option Скотч Объемный
                                    .col-md-6
                                        .form-group
                                            label.col-md-2.control-label(for="select1") Отделка
                                            .col-md-10
                                                select.form-control.decoration(id="select1", multiple="multiple", required)
                                                    each item in passport.decoration
                                                        option(selected) #{item}
                                                    option Нет
                                                    option Ламинат 1+0
                                                    option Ламинат 1+1
                                                    option Ламинат глянцевый
                                                    option Ламинат матовый
                                                    option Уф-лак 1+0
                                                    option Уф-лак 1+1
                                                    option Уф-лак сполошной
                                                    option Уф-лак выборочно
                                                    option Уф-лак глянцевый
                                                    option Уф-лак матовый
                                                    option Обычный
                                                    option Объемный
                                                    option Глитеры цвет
                                                    option Ириодин цвет
                                                    option Переплет
                                                    option Скоба
                                                    option Пружина
                                                    option КБС
                                                    option Твердный
                                                    option На нить
                                                    option Листоподборка
                                                    option Вкладка
                                                    option Склейка
                                                    option Кашировка
                                                    option Фальцовка
                                                    option Биговка
                                                    option Перфорация
                                                    option Микро
                                                    option Марочная
                                                    option Тиснение
                                                    option Фольга
                                                    option Цвет
                                                    option Блинтовое
                                                    option Конгрев
                                                    option Высечка
                                                    option Тигель
                                                    option Автомат
                                                    option KLUGE
                                                    option Сапожок
                                                    option Нумерация
                                                    option Сверление
                                                    option ММ
                                                    option №
                                .row
                                    .col-md-12
                                        .form-group
                                            label.control-label Количество машин
                                            button.btn(type="button", id="car-remove")
                                                i.material-icons remove
                                            button.btn(type="button", id="car-add")
                                                i.material-icons add
                                .row
                                    .col-md-12
                                        each item in passport.allCar
                                            .car-container
                                                table.table.table-bordered.table-condensed.car-tabel
                                                    tr
                                                        td
                                                            .row
                                                                .col-md-12
                                                                    .form-group
                                                                        label.col-md-5.control-label На машину
                                                                        .col-md-7
                                                                            select.form-control.car-select(required)
                                                                                if item.car === 'A2'
                                                                                    option(selected) A2
                                                                                    option A3
                                                                                else
                                                                                    option A2
                                                                                    option(selected) A3
                                                            .form-group
                                                                label.col-md-5.control-label Шт.
                                                                .col-md-7
                                                                    input.form-control.Sht(type="text", required, value=item.sht)
                                                            .form-group
                                                                label.col-md-5.control-label На
                                                                .col-md-7
                                                                    input.form-control.on(type="text", required, value=item.on)
                                                            .form-group
                                                                label.col-md-5.control-label Печ. листов
                                                                .col-md-7
                                                                    input.form-control.printSheet(type="text", required, value=item.printSheet)
                                                            .form-group
                                                                label.col-md-5.control-label Исходных листов
                                                                .col-md-7
                                                                    input.form-control.allSheet(type="text", required, value=item.allSheet)
                                                    tr
                                                        td
                                                            textarea(cols="30").signature
                                .row
                                    .form-group
                                        label.col-md-2.control-label(for="manager") Менеджер
                                        .col-md-10
                                            select.form-control.manager(id="manager", multiple="multiple", required)
                                                each item in passport.manager
                                                    option(selected) #{item}
                                                option Manager 1
                                                option Manager 2
                                                option Manager 3
                                                option Manager 4
                                .row
                                    .form-group
                                        if passport.file
                                            label.col-md-2.control-label(for="file") Адрес исходного файла
                                            .col-md-2
                                                div.checkbox
                                                    label
                                                        input(type="checkbox", id="noFile", checked)
                                                    |   Есть файла
                                            .col-md-8
                                                input.form-control.fileText(type="text", readonly="", placeholder="Файл...", value=passport.file)
                                                input(required, disabled, type="file", id="file", multiple="", accept="image/*,application/pdf,application/msword,application/rtf,application/rtf,text/plain,text/csv,text/xml")
                                                #fullPath
                                        else
                                            label.col-md-2.control-label(for="file") Адрес исходного файла
                                            .col-md-2
                                                div.checkbox
                                                    label
                                                        input(type="checkbox", id="noFile")
                                                    |   Есть файла
                                            .col-md-8
                                                input.form-control.fileText(type="text", readonly="", placeholder="Файл...")
                                                input(required, disabled, type="file", id="file", multiple="", accept="image/*,application/pdf,application/msword,application/rtf,application/rtf,text/plain,text/csv,text/xml")
                                                #fullPath

                                .row
                                    .col-md-3
                                        if passport.deliveryFiled == 'Доставка'
                                            .form-group
                                                .radio.radio-primary.delever
                                                    label.border-label
                                                        input(type="radio", name="delivery", value="Самовывоз")
                                                        | Самовывоз
                                                    label
                                                        input(type="radio", name="delivery" value="Доставка", checked)
                                                        | Доставка
                                        else
                                            .form-group
                                                .radio.radio-primary.delever
                                                    label.border-label
                                                        input(type="radio", name="delivery", value="Самовывоз", checked)
                                                        | Самовывоз
                                                    label
                                                        input(type="radio", name="delivery" value="Доставка")
                                                        | Доставка
                                    .col-md-3.type-delever
                                        if passport.typeDeliveryFiled == 'Наш транспорт'
                                            .form-group
                                                .radio.radio-primary
                                                    label.border-label
                                                        input(type="radio", name="type-delivery", value="Автобус")
                                                        | Автобус
                                                    label
                                                        input(type="radio", name="type-delivery" value="Наш транспорт", checked)
                                                        | Наш транспорт
                                        else
                                            .form-group
                                                .radio.radio-primary
                                                    label.border-label
                                                        input(type="radio", name="type-delivery", value="Автобус", checked)
                                                        | Автобус
                                                    label
                                                        input(type="radio", name="type-delivery" value="Наш транспорт")
                                                        | Наш транспорт
                                    .col-md-6
                                        if passport.address
                                            .form-group.delivery-address
                                                label.col-md-4.control-label(for="delivery-address") Адрес доставки
                                                .col-md-8
                                                    input.form-control.address(type="text", id="delivery-address", value=passport.address)
                                        else
                                            .form-group.delivery-address
                                                label.col-md-4.control-label(for="delivery-address") Адрес доставки
                                                .col-md-8
                                                    input.form-control.address(type="text", id="delivery-address")
                                .row
                                    .col-md-12
                                        .form-group
                                            label.col-md-2.control-label(for="comment") Комментарий
                                            .col-md-10
                                                textarea.form-control.comment(type="text", id="comment") #{passport.comment}
                            .ready-btn
                                button.btn.btn-success-green(type="submit", id='savePassportBtn') Сохранить
                                button.btn.btn-primary-purple Отправить
                                button.btn.btn-info-blue(type="button", id="print") Печать
    .wrapperPrint
        table.table.table-bordered.table-condensed
            tr
                th Заказ №
                th От
                th Сдать на
                th День
                th Время
                th Контактное лицо
                th Адрес
                td=passport.address
            tr
                td=passport.inc
                td=moment(passport.date, "DD.MM.YYYY").format("DD.MM")
                td=moment(passport.passOn, "YYYY.MM.DD").format("DD.MM")
                td
                td=passport.timePassport
                td=passport.contactPerson
                th Время отправления
                td=passport.deliveryFiled
            tr
                th Заказчик
                td(colspan="4")=passport.customer
                th Телефон #{passport.phone}
                th Время Прибытия
                td=passport.typeDeliveryFiled
        table.table.table-bordered.table-condensed
            tr
                th Наименование
                td=passport.name
                th Отделка
                td
                    each item in passport.decoration
                        div(style="float: left; padding-left: 10px")=item
            tr
                th Тираж заказчику
                td=passport.circulationFiled
                th Комлектующие
                td
                    each item in passport.set
                        div(style="float: left; padding-left: 10px")=item
            tr
                th Размер
                td
                    each item in passport.sizePaper
                        div(style="float: left; padding-left: 10px")=item
                th Страниц
                td=passport.page
            tr
                th Красочность
                td=passport.redness
                th Бумага
                td
                    each item in passport.typePaper
                        div(style="float: left; padding-left: 10px")=item
                    each item in passport.typePaperSize
                        div(style="float: left; padding-left: 10px")=item
                    each item in passport.typePaperGramm
                        div(style="float: left; padding-left: 10px")=item
        table.table.table-bordered.table-condensed
            tr
                each item in passport.allCar
                    td
                        table.table.table-condensed
                            tr
                                th На машину:
                                td=item.car
                            tr
                                th Шт.:
                                td=item.sht
                            tr
                                th На:
                                td=item.on
                            tr
                                th Печ. листов:
                                td=item.printSheet
                            tr
                                th Исходных листов:
                                td=item.allSheet
                            tr
                                td(colspan="2")
                                    textarea.signature
        table.table.table-bordered.table-condensed
            tr
                td
                    table.table
                        tr
                            th Менеджер:
                            td=passport.manager
                td
                    table.table.table-condensed
                        tr
                            th Адрес исходного файла:
                            td=passport.file
                td
                    table.table.table-condensed
                        tr
                            th Монтаж выполнил:
                            td &ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;